# --- Core service config ---
NODE_ENV=development
PORT=4000
WEB_ORIGIN=http://localhost:3000
DATABASE_URL=postgres://postgres:postgres@localhost:5432/clearcost

# If you sign /internal/* requests with HMAC (optional)
INTERNAL_SIGNING_SECRET=

# API key hashing pepper (required – set to a long random string)
API_KEY_PEPPER=change-me-long-random

# Optional KMS key for older webhook storage flows (not used with hash+salt)
WEBHOOK_KMS_KEY=

# --- Data sources / remotes ---
DATA_REMOTE_BASE=https://data.clearcost.dev
DB_DATA_API_BASE=

# --- FX (ECB primary; optional secondary) ---
CURRENCY_BASE=USD
FX_MAX_AGE_HOURS=72
# Secondary source (optional) — e.g. "OXR"; requires OXR_APP_ID below
FX_SECONDARY=
FX_SECONDARY_MAX_LAG_DAYS=3
# Open Exchange Rates App ID (if FX_SECONDARY is configured)
OXR_APP_ID=

# --- TARIC / EU config (used by EU importers) ---
EU_TARIC_LANGUAGE=en
EU_TARIC_GOODS_URL=https://ec.europa.eu/taxation_customs/dds2/taric/consultation.html
EU_TARIC_GOODS_DESC_URL=
EU_TARIC_COMPONENT_URL=
EU_TARIC_MEASURE_URL=
EU_TARIC_GEO_DESC_URL=
# CSV list of measure type IDs representing remedies (trade defense)
EU_TARIC_REMEDY_TYPES=552,551,558

# --- UK Trade Remedies (optional overrides) ---
UK_REMEDY_MEASURE_TYPES=552,551,558

# --- US surcharges (defaults live in code; envs allow overrides) ---
US_MPF_PCT=0.003464
US_MPF_MIN=27.75
US_MPF_MAX=538.40
US_MPF_EFFECTIVE=2024-01-01
US_MPF_NOTES='Manual override via env'
US_HMF_PCT=0.00125
US_HMF_EFFECTIVE=2024-01-01
US_HMF_NOTES='Manual override via env'

# --- Webhooks ---
CLEARCOST_WEBHOOK_TIMEOUT_MS=5000


# --- Import runtime / metrics ---
IMPORT_STALE_MINUTES=30
IMPORT_AGE_BUCKETS=60,300,900,3600


# --- Rate limiting ---
RATE_LIMIT_MAX=600
RATE_LIMIT_WINDOW='1 minute'

# --- CI/Deploy metadata (optional; set by CI) ---
COMMIT_SHA=
VERCEL_GIT_COMMIT_SHA=

# --- Slack/Discord (optional) ---
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=
SLACK_CHANNEL_ID=
DISCORD_WEBHOOK_URL=

# --- AHTN importer (optional override) ---
AHTN_CSV_URL=

# --- HTS / USITC API base (used by US importers) ---
HTS_API_BASE=https://hts.usitc.gov/api

# --- Frontend public API origin (for CORS) ---
# (Already covered by WEB_ORIGIN above, keep <em>one</em> consistent)